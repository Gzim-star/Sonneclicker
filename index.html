<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>IQ Symbol Puzzle</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<style>
body{
  margin:0;
  background:black;
  color:white;
  font-family:Arial, sans-serif;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  min-height:100vh;
}

h1{ margin-bottom:20px; }

/* GRID */
#grid{
  display:grid;
  grid-template-columns:repeat(12,min(24px,6vw));
  grid-template-rows:repeat(12,min(24px,6vw));
  gap:9px;
}

.cell{
  background:black;
  border-radius:10%;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:calc(12px + 0.5vmin);
  font-weight:bold;
  color:white;
  user-select:none;
}

.cell.correct{ background:#0f0; color:black; }
.cell.wrong{ background:#f00; }

#message{
  margin-top:12px;
  font-size:18px;
  color:#0f0;
}
</style>
</head>

<body>

<h1>IQ</h1>
<div id="grid"></div>
<div id="message"></div>

<script>
const grid = document.getElementById("grid");
const message = document.getElementById("message");

/* üî£ Zeichensatz */
const symbols = "0123456789-/:;()¬£&@‚Äú.,?!‚Äô[]{}#%^*+=_\\|~<>‚Ç¨$¬•‚Ä¢";

/* ‚ÄûW√∂rter‚Äú = Symbol-Sequenzen */
const sequences = [
  "6‚Ä¢‚Ç¨1",
  "#8@;",
  "¬£&@%",
  "[]{}",
  "<>‚Ç¨$",
  "^*+=",
  "|~<>",
  "?!‚Äô.",
  "-/:;",
  "()¬£&"
];

let positions = [];
let currentIndex = 0;
let globalOrder = 0;

/* GRID ERZEUGEN */
function generateGrid(){
  grid.innerHTML = "";
  message.textContent = "";
  positions = [];
  currentIndex = 0;
  globalOrder = 0;

  const WORDS_PER_GRID = 6;
  const selected = [];

  while(selected.length < WORDS_PER_GRID){
    const s = sequences[Math.floor(Math.random()*sequences.length)];
    if(!selected.includes(s)) selected.push(s);
  }

  const gridData = Array.from({length:12},()=>Array(12).fill(null));
  selected.forEach(seq => placeSequence(seq, gridData));

  for(let r=0;r<12;r++){
    for(let c=0;c<12;c++){
      const div = document.createElement("div");
      div.className = "cell";

      if(gridData[r][c]){
        div.textContent = gridData[r][c].char;
        positions.push({div, order:gridData[r][c].order});
      }else{
        div.textContent = symbols[Math.floor(Math.random()*symbols.length)];
      }

      div.onclick = ()=>checkClick(div);
      grid.appendChild(div);
    }
  }

  positions.sort((a,b)=>a.order-b.order);
}

/* SEQUENZ PLATZIEREN */
function placeSequence(seq, gridData){
  const len = seq.length;
  let placed = false;

  while(!placed){
    // 0 ‚û°Ô∏è | 1 ‚¨áÔ∏è | 2 ‚ÜòÔ∏è | 3 ‚ÜóÔ∏è
    const mode = Math.floor(Math.random()*4);

    const maxRow = (mode===0||mode===3)?12:12-len;
    const maxCol = (mode===1||mode===2||mode===3)?12-len:12;

    const sr = Math.floor(Math.random()*maxRow);
    const sc = Math.floor(Math.random()*maxCol);

    let fits = true;
    for(let i=0;i<len;i++){
      let r = sr + (mode===1||mode===2 ? i : 0);
      let c = sc + (mode===0||mode===2 ? i : 0);
      if(mode===3){ r = sr - i; c = sc + i; }

      if(r<0||r>=12||c<0||c>=12||gridData[r][c]){
        fits=false; break;
      }
    }
    if(!fits) continue;

    for(let i=0;i<len;i++){
      let r = sr + (mode===1||mode===2 ? i : 0);
      let c = sc + (mode===0||mode===2 ? i : 0);
      if(mode===3){ r = sr - i; c = sc + i; }

      gridData[r][c] = {
        char: seq[i],
        order: globalOrder++
      };
    }
    placed = true;
  }
}

/* KLICK PR√úFEN */
function checkClick(div){
  const expected = positions[currentIndex]?.div;

  if(div === expected){
    div.classList.add("correct");
    currentIndex++;

    if(currentIndex === positions.length){
      setTimeout(generateGrid, 1200);
    }
  }else{
    div.classList.add("wrong");
    setTimeout(()=>div.classList.remove("wrong"),700);
  }
}

generateGrid();
</script>

</body>
</html>

<!--
BrainTrials ‚Äì IQ Symbol Puzzle
Created by G√´zim Hasani ¬© 2026
All rights reserved.
-->
